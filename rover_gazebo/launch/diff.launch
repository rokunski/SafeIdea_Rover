<launch>

<arg name="model" default="$(find rover_gazebo)/models/rover/rover.urdf"/>
<arg name="rvizconfig" default="$(find urdf_tutorial)/rviz/urdf.rviz"/>


<!-- Launch gazebo -->
<include file="$(find rover_gazebo)/launch/gazebo.launch">
 </include>

<node name="rviz" pkg="rviz" type="rviz" args="-d $(arg rvizconfig)"/>

<!-- Load joint controller configuration from YAML file to parameter server -->

<rosparam file="$(find rover_gazebo)/config/config.yaml" command="load" />

<node name="controller_spawner" pkg="controller_manager" type="spawner" ns="/rover" args="diff_drive_controller joint_state_controller"/>
<node name="robot_state_publisher" pkg="robot_state_publisher" type="robot_state_publisher" respawn="false" output="screen">
    <remap from="/joint_states" to="/rover/joint_states" />
</node>


<node name="rqt_robot_steering" pkg="rqt_robot_steering" type="rqt_robot_steering">
  <param name="default_topic" value="/rover/diff_drive_controller/cmd_vel"/>
</node>

</launch>
